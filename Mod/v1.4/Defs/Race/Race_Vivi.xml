<?xml version="1.0" encoding="UTF-8"?>
<Defs>
  <AlienRace.ThingDef_AlienRace ParentName="BasePawn">
    <defName>VV_Vivi</defName>
    <label>vivi</label>
    <description>.</description>

    <alienRace>
      <generalSettings>
        <maleGenderProbability>0</maleGenderProbability>

        <alienPartGenerator>
          <atlasScale>4</atlasScale>
          <borderScale>1</borderScale>
          <headTypes Inherit="False">
            <li>VV_Vivi_A</li>
            <li>VV_Vivi_B</li>
            <li>VV_Vivi_C</li>
            <li>VV_Vivi_D</li>
            <li>VV_Vivi_E</li>
            <li>VV_Vivi_F</li>
          </headTypes>
          <bodyTypes>
            <li>Thin</li>
            <li>Female</li>
						<li>Baby</li>
						<li>Child</li>
          </bodyTypes>

					<headOffset>(-0.04, -0.05)</headOffset>
          <headOffsetSpecific>
            <north>
              <bodyTypes>
                <Female>(0, 0.06)</Female>
                <Thin>(0, 0)</Thin>
              </bodyTypes>
            </north>
            <south>
              <bodyTypes>
                <Female>(0, 0.06)</Female>
                <Thin>(0, 0)</Thin>
              </bodyTypes>
            </south>
            <east>
              <bodyTypes>
                <Female>(0, 0.06)</Female>
                <Thin>(0, 0)</Thin>
              </bodyTypes>
            </east>
          </headOffsetSpecific>
 
					<customDrawSize>(1.0, 1.0)</customDrawSize>
					<customPortraitDrawSize>(1.0, 1.0)</customPortraitDrawSize>
          <customHeadDrawSize>(0.75, 0.75)</customHeadDrawSize>
          <customPortraitHeadDrawSize>(0.75, 0.75)</customPortraitHeadDrawSize>

					<colorChannels>
						<li>
							<name>skin</name>
							<first Class="ColorGenerator_Options">
								<options>
									<li>
										<weight>10</weight>
                    <only>(255,255,255)</only>
									</li>
								</options>
							</first>
						</li>
						<li>
							<name>hair</name>
							<first Class="ColorGenerator_Options">
								<options>
                  <li>
                    <weight>10</weight>
                    <only>(255,255,255)</only>
                  </li>
								</options>
							</first>
						</li>
					</colorChannels>

          <bodyAddons>
            <li>
              <path>Things/Pawn/Vivi/BodyParts/WingL</path>
              <drawSize>1</drawSize>
              <shaderType>CutoutComplex</shaderType>
							<inFrontOfBody>false</inFrontOfBody>
              <offsets>
								<north>
									<layerOffset>-0.274</layerOffset>
								</north>
                <south>
									<layerOffset>0.1</layerOffset>
                </south>
								<east>
									<layerOffset>0.2</layerOffset>
								</east>
								<west>
									<layerOffset>-0.2</layerOffset>
								</west>
              </offsets>
              <bodyPartLabel>left wing</bodyPartLabel>
              <drawWithoutPart>true</drawWithoutPart>
              <scaleWithPawnDrawsize>true</scaleWithPawnDrawsize>
              <drawnDesiccated>false</drawnDesiccated>
              <drawnInBed>false</drawnInBed>
              
              <ageGraphics>
                <HumanlikeBaby>Common/Empty</HumanlikeBaby>
                <HumanlikeChild>Common/Empty</HumanlikeChild>
                <HumanlikeChild_Vivi>Common/Empty</HumanlikeChild_Vivi>
              </ageGraphics>
            </li>
            
            <li>
              <path>Things/Pawn/Vivi/BodyParts/WingR</path>
              <drawSize>1</drawSize>
              <shaderType>CutoutComplex</shaderType>
							<inFrontOfBody>false</inFrontOfBody>
              <offsets>
								<north>
									<layerOffset>-0.274</layerOffset>
								</north>
                <south>
									<layerOffset>0.1</layerOffset>
                </south>
              </offsets>
              <bodyPartLabel>right wing</bodyPartLabel>
              <drawWithoutPart>true</drawWithoutPart>
              <scaleWithPawnDrawsize>true</scaleWithPawnDrawsize>
              <drawnDesiccated>false</drawnDesiccated>
              <drawnInBed>false</drawnInBed>
              
              <ageGraphics>
                <HumanlikeBaby>Common/Empty</HumanlikeBaby>
                <HumanlikeChild>Common/Empty</HumanlikeChild>
                <HumanlikeChild_Vivi>Common/Empty</HumanlikeChild_Vivi>
              </ageGraphics>
            </li>
            
            <li>
              <path>Things/Pawn/Vivi/BodyParts/AntennaL</path>
              <drawSize>1</drawSize>
							<inFrontOfBody>false</inFrontOfBody>
							<drawnInBed>true</drawnInBed>
              <alignWithHead>true</alignWithHead>
              <offsets>
                <south>
									<layerOffset>-0.35</layerOffset>
                </south>
								<east>
									<layerOffset>-0.5</layerOffset>
								</east>
								<west>
									<layerOffset>0</layerOffset>
								</west>
                <north>
                  <offset>(0, -0.08)</offset>
                </north>
              </offsets>
              <bodyPartLabel>left antennae</bodyPartLabel>
              <drawWithoutPart>true</drawWithoutPart>
              <scaleWithPawnDrawsize>true</scaleWithPawnDrawsize>
              <drawnDesiccated>false</drawnDesiccated>
            </li>
            
            <li>
              <path>Things/Pawn/Vivi/BodyParts/AntennaR</path>
              <drawSize>1</drawSize>
							<inFrontOfBody>false</inFrontOfBody>
							<drawnInBed>true</drawnInBed>
              <alignWithHead>true</alignWithHead>
              <offsets>
                <south>
									<layerOffset>-0.35</layerOffset>
                </south>
                <east>
                  <layerOffset>0</layerOffset>
                </east>
								<west>
									<layerOffset>-0.5</layerOffset>
								</west>
                <north>
                  <offset>(0, -0.08)</offset>
                </north>
              </offsets>
              <bodyPartLabel>right antennae</bodyPartLabel>
              <drawWithoutPart>true</drawWithoutPart>
              <scaleWithPawnDrawsize>true</scaleWithPawnDrawsize>
              <drawnDesiccated>false</drawnDesiccated>
            </li>
            
            <li>
              <path>Common/Empty</path>
              <drawSize>1</drawSize>
              <shaderType>CutoutComplex</shaderType>
							<inFrontOfBody>false</inFrontOfBody>
              <offsets>
								<north>
									<layerOffset>-0.26</layerOffset>
								</north>
                <south>
									<layerOffset>0.1</layerOffset>
                </south>
								<east>
									<layerOffset>0.2</layerOffset>
								</east>
								<west>
									<layerOffset>-0.2</layerOffset>
								</west>
              </offsets>
              <bodyPart>Torso</bodyPart>
              <drawWithoutPart>true</drawWithoutPart>
              <scaleWithPawnDrawsize>true</scaleWithPawnDrawsize>
              <drawnDesiccated>false</drawnDesiccated>
              <drawnInBed>false</drawnInBed>
              
              <hediffGraphics>
                <VV_GliderWing>
                  <path>Things/Pawn/Vivi/BodyParts/UpperWingL</path>
                  <ageGraphics>
                    <HumanlikeBaby>Common/Empty</HumanlikeBaby>
                    <HumanlikeChild>Common/Empty</HumanlikeChild>
                    <HumanlikeChild_Vivi>Common/Empty</HumanlikeChild_Vivi>
                  </ageGraphics>
                </VV_GliderWing>
              </hediffGraphics>
            </li>
            
            <li>
              <path>Common/Empty</path>
              <drawSize>1</drawSize>
              <shaderType>CutoutComplex</shaderType>
							<inFrontOfBody>false</inFrontOfBody>
              <offsets>
								<north>
									<layerOffset>-0.26</layerOffset>
								</north>
                <south>
									<layerOffset>0.1</layerOffset>
                </south>
              </offsets>
              <bodyPart>Torso</bodyPart>
              <drawWithoutPart>true</drawWithoutPart>
              <scaleWithPawnDrawsize>true</scaleWithPawnDrawsize>
              <drawnDesiccated>false</drawnDesiccated>
              <drawnInBed>false</drawnInBed>
              
              <hediffGraphics>
                <VV_GliderWing>
                  <path>Things/Pawn/Vivi/BodyParts/UpperWingR</path>
                  <ageGraphics>
                    <HumanlikeBaby>Common/Empty</HumanlikeBaby>
                    <HumanlikeChild>Common/Empty</HumanlikeChild>
                    <HumanlikeChild_Vivi>Common/Empty</HumanlikeChild_Vivi>
                  </ageGraphics>
                </VV_GliderWing>
              </hediffGraphics>
            </li>
            
          </bodyAddons>

          <oldHairAgeCurve>
            <points>
              <li>(0, 0)</li>
              <li>(45, 0)</li>
              <li>(60, 0.7)</li>
              <li>(70, 1)</li>
            </points>
          </oldHairAgeCurve>
          <oldHairColorGen Class="ColorGenerator_Options">
            <options>
              <li>
                <min>(0.65,0.65,0.65)</min>
                <max>(0.85,0.85,0.85)</max>
              </li>
            </options>
          </oldHairColorGen>
        </alienPartGenerator>

        <raceGenes>
          <li>
            <defName>VV_ViviMetabolism</defName>
            <chance>100</chance>
          </li>
        </raceGenes>

        <disallowedTraits>
          <li>
            <defName>Cannibal</defName>
          </li>
          <li>
            <defName>DislikesWomen</defName>
          </li>
          <li>
            <defName>Gay</defName>
          </li>
          <li>
            <defName>Bisexual</defName>
          </li>
          <li>
            <defName>Asexual</defName>
          </li>
        </disallowedTraits>

        <humanRecipeImport>true</humanRecipeImport>

        <growthAges>
          <li>7</li>
          <li>10</li>
          <li>13</li>
        </growthAges>
        <childBackstoryFilter>
          <li>
            <categories>
              <li>VV_SettlerGrown</li>
            </categories>
            <commonality>1</commonality>
          </li>
        </childBackstoryFilter>
        <adultBackstoryFilter>
          <li>
            <categories>
              <li>VV_SettlerGrown</li>
            </categories>
            <commonality>1</commonality>
          </li>
        </adultBackstoryFilter>
        <adultVatBackstoryFilter>
          <li>
            <categories>
              <li>VV_SettlerGrown</li>
            </categories>
            <commonality>1</commonality>
          </li>
        </adultVatBackstoryFilter>

      </generalSettings>
      
      <graphicPaths>
        <body>
          <bodytypeGraphics>
            <Thin>Things/Pawn/Vivi/Body/Naked_Thin</Thin>
            <Female>Things/Pawn/Vivi/Body/Naked_Female</Female>
            <Baby>Things/Pawn/Vivi/Body/Naked_Baby</Baby>
            <Child>Things/Pawn/Vivi/Body/Naked_Child</Child>
          </bodytypeGraphics>
        </body>
        <head>Things/Pawn/Vivi/Heads/</head>
        <skeleton>Things/Pawn/Humanlike/Bodies/Dessicated/Dessicated_Thin</skeleton>
      </graphicPaths>
      
      <styleSettings>
        <li>
          <key>HairDef</key>
          <value>
						<hasStyle>true</hasStyle>
						<styleTagsOverride>
              <li>VV_Vivi</li>
            </styleTagsOverride>
          </value>
        </li>
        <li>
          <key>BeardDef</key>
          <value>
            <hasStyle>false</hasStyle>
          </value>
        </li>
        <li>
          <key>TattooDef</key>
          <value>
            <hasStyle>false</hasStyle>
          </value>
        </li>
      </styleSettings>
      
      <thoughtSettings>
        <replacerList>
          <li>
            <original>SleptInBarracks</original>
            <replacer>VV_SleptInBarracks</replacer> 
          </li>
          <li>
            <original>MyDaughterDied</original>
            <replacer>VV_MyDaughterDied</replacer> 
          </li>
        </replacerList>

        <cannotReceiveThoughts>
          <li>VV_AtePollen</li>
          <li>MySisterDied</li>
          <li>SleepDisturbed</li>
        </cannotReceiveThoughts>
      </thoughtSettings>
      
      <relationSettings>
        <relationChanceModifierLover>0</relationChanceModifierLover>
        <relationChanceModifierExLover>0</relationChanceModifierExLover>

        <relationChanceModifierFiance>0</relationChanceModifierFiance>
        <relationChanceModifierSpouse>0</relationChanceModifierSpouse>
        <relationChanceModifierExSpouse>0</relationChanceModifierExSpouse>

        <relationChanceModifierParent>0</relationChanceModifierParent>
        <relationChanceModifierChild>0</relationChanceModifierChild>
        <relationChanceModifierSibling>0</relationChanceModifierSibling>
      </relationSettings>

      <raceRestriction>
        <onlyUseRaceRestrictedXenotypes>true</onlyUseRaceRestrictedXenotypes>

        <xenotypeList>
          <li>VV_Vivi</li>
        </xenotypeList>
        
        <whiteGeneTags>
          <li>HairColor</li>
          <li>SkinColor</li>
        </whiteGeneTags>

        <blackEndoCategories>
          <li>Melanin</li>
          <li>Head</li>
          <li>BodyType</li>
        </blackEndoCategories>

        <weaponList>
          <li>VV_RepeatingCrossbow</li>
          <li>VV_RitualLance</li>
        </weaponList>

        <apparelList>
          <li>VV_BasicWorkerCostume</li>
          <li>VV_WorkerUniformDress</li>
          <li>VV_WinterCape</li>
          <li>VV_WaterproofCoat</li>
          <li>VV_GuardianCoat</li>
          <li>VV_Childrenswear</li>
          
          <li>VV_BasicRoyalCostume</li>
        </apparelList>

        <canReproduce>false</canReproduce>
      </raceRestriction>
    </alienRace>

    <statBases>
			<MarketValue>1200</MarketValue>
			<Mass>50</Mass>
			<CarryingCapacity>70</CarryingCapacity>
			<PainShockThreshold>0.7</PainShockThreshold>
			<ToxicEnvironmentResistance>0.9</ToxicEnvironmentResistance>
			<EatingSpeed>1.2</EatingSpeed>
			<MeatAmount>30</MeatAmount>
			<LeatherAmount>30</LeatherAmount>

      <ComfyTemperatureMin>20</ComfyTemperatureMin>
      <ComfyTemperatureMax>35</ComfyTemperatureMax>

      <VV_HoneyGatherSpeed>1.0</VV_HoneyGatherSpeed>
      <VV_HoneyGatherYield>1.0</VV_HoneyGatherYield>
      <VV_PlantGatherSpeed>1.0</VV_PlantGatherSpeed>
      <VV_PlantGatherYield>1.0</VV_PlantGatherYield>
      <ConstructionSpeed>1.5</ConstructionSpeed>
      <SmoothingSpeed>1.25</SmoothingSpeed>
      <CleaningSpeed>1.25</CleaningSpeed>

      <MoveSpeed>5.7</MoveSpeed>
      <ButcheryFleshEfficiency>0.75</ButcheryFleshEfficiency>
      <MiningSpeed>0.5</MiningSpeed>
      <MiningYield>0.5</MiningYield>
      <PsychicSensitivity>0.5</PsychicSensitivity>
      
      <ToxicResistance>0.5</ToxicResistance>
      <Fertility>0</Fertility>
      
      <RoyalFavorValue>1</RoyalFavorValue>
    </statBases>

    <tools>
      <li>
        <label>left fist</label>
        <capacities>
          <li>Blunt</li>
        </capacities>
        <power>8.2</power>
        <cooldownTime>2</cooldownTime>
        <linkedBodyPartsGroup>LeftHand</linkedBodyPartsGroup>
        <surpriseAttack>
          <extraMeleeDamages>
            <li>
              <def>Stun</def>
              <amount>14</amount>
            </li>
          </extraMeleeDamages>
        </surpriseAttack>
      </li>
      <li>
        <label>right fist</label>
        <capacities>
          <li>Blunt</li>
        </capacities>
        <power>8.2</power>
        <cooldownTime>2</cooldownTime>
        <linkedBodyPartsGroup>RightHand</linkedBodyPartsGroup>
        <surpriseAttack>
          <extraMeleeDamages>
            <li>
              <def>Stun</def>
              <amount>14</amount>
            </li>
          </extraMeleeDamages>
        </surpriseAttack>
      </li>
      <li>
        <label>teeth</label>
        <capacities>
          <li>Bite</li>
        </capacities>
        <power>8.2</power>
        <cooldownTime>2</cooldownTime>
        <linkedBodyPartsGroup>Teeth</linkedBodyPartsGroup>
        <chanceFactor>0.07</chanceFactor>
        <soundMeleeHit>Pawn_Melee_HumanBite_Hit</soundMeleeHit>
        <soundMeleeMiss>Pawn_Melee_HumanBite_Miss</soundMeleeMiss>
      </li>
      <li>
        <label>head</label>
        <capacities>
          <li>Blunt</li>
        </capacities>
        <power>5</power>
        <cooldownTime>2</cooldownTime>
        <linkedBodyPartsGroup>HeadAttackTool</linkedBodyPartsGroup>
        <ensureLinkedBodyPartsGroupAlwaysUsable>true</ensureLinkedBodyPartsGroupAlwaysUsable>
        <chanceFactor>0.2</chanceFactor>
      </li>
    </tools>

    <race>
			<thinkTreeMain>Humanlike</thinkTreeMain>
			<thinkTreeConstant>HumanlikeConstant</thinkTreeConstant>
			<intelligence>Humanlike</intelligence>
			<makesFootprints>true</makesFootprints>
      <lifeExpectancy>45</lifeExpectancy>
      <leatherDef>Leather_Light</leatherDef>
			<nameCategory>HumanStandard</nameCategory>
      <nameGenerator>VV_NamerPersonVivi</nameGenerator>
      <nameGeneratorFemale>VV_NamerPersonVivi</nameGeneratorFemale>
      <body>VV_Vivi</body>
      <baseBodySize>0.8</baseBodySize>
      <baseHealthScale>0.8</baseHealthScale>
      <baseHungerRate>0.7</baseHungerRate>
      <foodType>OmnivoreHuman</foodType>
      <meatMarketValue>0.8</meatMarketValue>
      <manhunterOnTameFailChance>0.50</manhunterOnTameFailChance>
      <manhunterOnDamageChance>0.90</manhunterOnDamageChance>
      <soundCallIntervalRange>2000~5000</soundCallIntervalRange>

      <litterSizeCurve>
        <points>
          <li>(0.5, 0)</li>
          <li>(1, 1)</li>
          <li>(1.01, 0.02)</li>
          <li>(3.5, 0)</li>
        </points>
      </litterSizeCurve>

			<lifeStageAges Inherit="False">
				<li>
					<def>HumanlikeBaby</def>
					<minAge>0</minAge>
				</li>
				<li>
					<def>HumanlikeChild</def>
					<minAge>2.999999</minAge>
				</li>
				<li>
					<def>HumanlikeChild_Vivi</def>
					<minAge>3</minAge>
				</li>
				<li>
					<def>HumanlikePreTeenager</def>
					<minAge>9.999999</minAge>
				</li>
				<li>
					<def>HumanlikePreTeenager_Vivi</def>
					<minAge>10</minAge>
				</li>
				<li>
					<def>HumanlikeTeenager</def>
					<minAge>12.999999</minAge>
				</li>
				<li>
					<def>HumanlikeTeenager_Vivi</def>
					<minAge>13</minAge>
				</li>
				<li>
					<def>HumanlikeAdult</def>
					<minAge>18</minAge>
				</li>
				<li>
					<def>HumanlikeAdult_Vivi</def>
					<minAge>18.000001</minAge>
				</li>
			</lifeStageAges>

      <lifeStageWorkSettings>
        <Firefighter>13</Firefighter>
        <Patient>0</Patient>
        <Doctor>10</Doctor>
        <PatientBedRest>0</PatientBedRest>
        <Childcare>0</Childcare>
        <BasicWorker>3</BasicWorker>
        <Warden>10</Warden>
        <Handling>7</Handling>
        <Cooking>3</Cooking>
        <Hunting>10</Hunting>
        <Construction>7</Construction>
        <Growing>3</Growing>
        <Mining>10</Mining>
        <PlantCutting>3</PlantCutting>
        <Smithing>7</Smithing>
        <Tailoring>7</Tailoring>
        <Art>10</Art>
        <Crafting>7</Crafting>
        <Hauling>3</Hauling>
        <Cleaning>3</Cleaning>
        <Research>13</Research>
      </lifeStageWorkSettings>
      
			<soundMeleeHitPawn>Pawn_Melee_Punch_HitPawn</soundMeleeHitPawn>
			<soundMeleeHitBuilding>Pawn_Melee_Punch_HitBuilding</soundMeleeHitBuilding>
			<soundMeleeMiss>Pawn_Melee_Punch_Miss</soundMeleeMiss>
			<soundMeleeDodge>Pawn_MeleeDodge</soundMeleeDodge>
      
      <specialShadowData>
        <volume>(0.3, 0.8, 0.4)</volume>
        <offset>(0,0,-0.3)</offset>
      </specialShadowData>
      
      <ageGenerationCurve>
        <points>
          <li MayRequire="Ludeon.RimWorld.Biotech">(0,0)</li>
          <li MayRequire="Ludeon.RimWorld.Biotech">(0.001,23)</li>
          <li MayRequire="Ludeon.RimWorld.Biotech">(8,30)</li>
          <li MayRequire="Ludeon.RimWorld.Biotech">(12.5,98)</li>  <!-- Exclude 12.5-13 years to avoid spawning pawns who are very close to becoming adults -->  
          <li MayRequire="Ludeon.RimWorld.Biotech">(12.51,0)</li>  
          <li MayRequire="Ludeon.RimWorld.Biotech">(13,0)</li>      
          <li MayRequire="Ludeon.RimWorld.Biotech">(13.001,122)</li><!-- End exclude -->
          <li MayRequire="Ludeon.RimWorld.Biotech">(13.999,130)</li>
          <li>(14,0)</li>
          <li MayRequire="Ludeon.RimWorld.Biotech">(14.001,130)</li>
          <li>(16,100)</li>
          <li>(17.999,100)</li>
          <li>(18,0)</li>
          <li>(18.001,0)</li>
          <li>(18.002,150)</li>
          <li>(19,200)</li>
          <li>(25,100)</li>
          <li>(30,20)</li>
          <li>(40,0)</li>
        </points>
      </ageGenerationCurve>
      
      <hediffGiverSets>
        <li>OrganicStandard</li>
        <li>Human</li>
      </hediffGiverSets>
    </race>

    <comps>
      <li Class="VVRace.CompProperties_EggLayer">
        <eggProgressDays>12</eggProgressDays>
      </li>
      
      <li Class="VVRace.CompProperties_Vivi" />
    </comps>
    
    <ingredient>
      <mergeCompatibilityTags>
        <li>HumanMeat</li>
      </mergeCompatibilityTags>
    </ingredient>
  </AlienRace.ThingDef_AlienRace>

  <AlienRace.RaceSettings>
    <defName>Vivi_RaceSettings</defName>
		<pawnKindSettings>
      <alienwandererkinds>
        <li>
          <pawnKindEntries>
            <li>
              <kindDefs>
                <li>VV_PlayerVivi</li>
              </kindDefs>
              <chance>100.0</chance>
            </li>
          </pawnKindEntries>
          <factionDefs>
            <li>VV_PlayerVivi</li>
            <li>VV_PlayerExiledVivi</li>
          </factionDefs>
        </li>
      </alienwandererkinds>
  
      <alienslavekinds>
        <li>
          <kindDefs>
            <li>VV_PlayerVivi</li>
          </kindDefs>
          <chance>90.0</chance>
        </li>
        <li>
          <kindDefs>
            <li>VV_PlayerRoyalVivi</li>
          </kindDefs>
          <chance>10.0</chance>
        </li>
      </alienslavekinds>
  
      <alienrefugeekinds>
        <li>
          <kindDefs>
            <li>VV_PlayerVivi</li>
            <li>VV_PlayerRoyalVivi</li>
            <li>VV_PlayerExiledRoyalVivi</li>
          </kindDefs>
          <chance>0</chance>
        </li>
      </alienrefugeekinds>
    </pawnKindSettings>

  </AlienRace.RaceSettings>
</Defs>